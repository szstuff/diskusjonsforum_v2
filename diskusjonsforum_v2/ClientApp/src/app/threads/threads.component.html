<h1 id="tabelLabel">List of Threads ({{viewTitle}} View)</h1>

<button class='btn btn-primary' (click)="getThreads()">Get Threads</button>

<table class="table table-striped" aria-labelledby="tabelLabel">
  <div class="row">
    <div class='col-md-2'>Filter by:</div>
    <div class='col-md-4'>
      <input type="text" [(ngModel)]="listFilter" />
    </div>
  </div>

  <div class="row">
    <div class="col-md-6">
      <h4>Filtered by: {{listFilter}}</h4>
    </div>
  </div>


  <h2>Thread Details</h2>
  <table>
    <tr *ngFor="let thread of threads" >
    <td>
      <p>Thread ID: {{ thread.ThreadId }}</p>
      <p>Thread Title: {{ thread.ThreadTitle }}</p>
      <p>Thread Body: {{ thread.ThreadBody }}</p>
    </td>
    </tr>
      <tr *ngFor="let thread of filteredThreads">
        <td>
          <p>Thread ID: {{ thread.ThreadId }}</p>
          <p>Thread Title: {{ thread.ThreadTitle }}</p>
          <p>Thread Body: {{ thread.ThreadBody }}</p>
        </td>
      </tr>
  </table>

  <h3>Comments</h3>
  <ul>
    <li *ngFor="let comment of comments">
      <div class="comment">
        <p>Posted by: {{ comment.User.UserName }} on {{ comment.CommentCreatedAt }}</p>
        <p>{{ comment.CommentBody }}</p>

        <div *ngIf="userId === comment.UserId || userIsAdmin">
          <button (click)="editComment(comment.CommentId)">Edit Comment</button>
          <button (click)="deleteComment(comment.CommentId)">Delete Comment</button>
        </div>
      </div>
    </li>
  </ul>
</table>

<ul class="navbar-nav flex-grow">
  <li
    class="nav-thread"
    [routerLinkActive]="['link-active']"
    [routerLinkActiveOptions]="{ exact: true}"
    >
      <a class="nav-link text-dark" [routerLink]="['/']">Home</a>
  </li>
  <li class="nav-item" [routerLinkActive]="['link-active']">
    <a class="nav-link text-dark" [routerLink]="['/threads']">
      Threads
    </a>
  </li>
</ul>
