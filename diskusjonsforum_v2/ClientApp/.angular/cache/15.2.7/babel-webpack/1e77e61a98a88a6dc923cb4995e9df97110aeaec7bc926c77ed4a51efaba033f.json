{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nfunction CommentsComponent_tr_3_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function CommentsComponent_tr_3_div_7_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const comment_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.editComment(comment_r1.CommentId));\n    });\n    i0.ɵɵtext(2, \"Edit Comment\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function CommentsComponent_tr_3_div_7_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const comment_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.deleteComment(comment_r1.CommentId));\n    });\n    i0.ɵɵtext(4, \"Delete Comment\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction CommentsComponent_tr_3_div_8_div_2_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function CommentsComponent_tr_3_div_8_div_2_div_7_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const childComment_r10 = i0.ɵɵnextContext().$implicit;\n      const ctx_r12 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r12.editComment(childComment_r10.CommentId));\n    });\n    i0.ɵɵtext(2, \"Edit Comment\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function CommentsComponent_tr_3_div_8_div_2_div_7_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const childComment_r10 = i0.ɵɵnextContext().$implicit;\n      const ctx_r15 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r15.deleteComment(childComment_r10.CommentId));\n    });\n    i0.ɵɵtext(4, \"Delete Comment\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction CommentsComponent_tr_3_div_8_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"p\")(2, \"strong\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, CommentsComponent_tr_3_div_8_div_2_div_7_Template, 5, 0, \"div\", 2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const childComment_r10 = ctx.$implicit;\n    const ctx_r9 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(childComment_r10.User.UserName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" on \", childComment_r10.CommentCreatedAt, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(childComment_r10.CommentBody);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.UserId === childComment_r10.UserId || ctx_r9.UserIsAdmin);\n  }\n}\nfunction CommentsComponent_tr_3_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 4);\n    i0.ɵɵtemplate(2, CommentsComponent_tr_3_div_8_div_2_Template, 8, 4, \"div\", 5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const comment_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", comment_r1.ChildComments);\n  }\n}\nfunction CommentsComponent_tr_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"p\")(2, \"strong\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, CommentsComponent_tr_3_div_7_Template, 5, 0, \"div\", 2);\n    i0.ɵɵtemplate(8, CommentsComponent_tr_3_div_8_Template, 3, 1, \"div\", 2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const comment_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(comment_r1.User.UserName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" on \", comment_r1.CommentCreatedAt, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(comment_r1.CommentBody);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.UserId === comment_r1.User.UserId || ctx_r0.UserIsAdmin);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", comment_r1.ChildComments && comment_r1.ChildComments.length > 0);\n  }\n}\nexport class CommentsComponent {\n  constructor(_http) {\n    this._http = _http;\n    this.comments = [];\n  }\n  ngOnInit() {\n    console.log('CommentsComponent created');\n    this.getComments();\n  }\n  getComments() {\n    this._http.get('api/comments').subscribe(data => {\n      console.log('All', JSON.stringify(data));\n      this.comments = data;\n    });\n  }\n  // Function to add a comment\n  addComment() {\n    // Logic to add a comment\n  }\n  // Function to edit a comment\n  editComment(commentId) {\n    // Logic to edit a comment\n  }\n  // Function to delete a comment\n  deleteComment(commentId) {\n    // Logic to delete a comment\n  }\n}\nCommentsComponent.ɵfac = function CommentsComponent_Factory(t) {\n  return new (t || CommentsComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n};\nCommentsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CommentsComponent,\n  selectors: [[\"app-comment-component\"]],\n  decls: 4,\n  vars: 1,\n  consts: [[\"id\", \"tabelLabel\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [3, \"click\"], [1, \"child-comments\"], [\"class\", \"comment-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"comment-item\"]],\n  template: function CommentsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\", 0);\n      i0.ɵɵtext(1, \"List of Comments)\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"table\");\n      i0.ɵɵtemplate(3, CommentsComponent_tr_3_Template, 9, 5, \"tr\", 1);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.comments);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf],\n  encapsulation: 2\n});","map":{"version":3,"mappings":";;;;;;IAOMA,2BAA2D;IACjDA;MAAAA;MAAA;MAAA;MAAA,OAASA,uDAA8B;IAAA,EAAC;IAACA,4BAAY;IAAAA,iBAAS;IACtEA,iCAAmD;IAA3CA;MAAAA;MAAA;MAAA;MAAA,OAASA,yDAAgC;IAAA,EAAC;IAACA,8BAAc;IAAAA,iBAAS;;;;;;IAUtEA,2BAA2D;IACjDA;MAAAA;MAAA;MAAA;MAAA,OAASA,8DAAmC;IAAA,EAAC;IAACA,4BAAY;IAAAA,iBAAS;IAC3EA,iCAAwD;IAAhDA;MAAAA;MAAA;MAAA;MAAA,OAASA,gEAAqC;IAAA,EAAC;IAACA,8BAAc;IAAAA,iBAAS;;;;;IANnFA,8BAA6E;IAChEA,YAAgC;IAAAA,iBAAS;IAACA,YAAsC;IAAAA,iBAAI;IAC/FA,yBAAG;IAAAA,YAA8B;IAAAA,iBAAI;IAErCA,mFAGM;IACRA,iBAAM;;;;;IAPOA,eAAgC;IAAhCA,oDAAgC;IAAUA,eAAsC;IAAtCA,oEAAsC;IACxFA,eAA8B;IAA9BA,kDAA8B;IAE3BA,eAAmD;IAAnDA,sFAAmD;;;;;IAN/DA,2BAAuE;IAEnEA,6EAQM;IACRA,iBAAM;;;;IAT0BA,eAAwB;IAAxBA,kDAAwB;;;;;IAZ5DA,0BAAsC;IACzBA,YAA2B;IAAAA,iBAAS;IAACA,YAAiC;IAAAA,iBAAI;IACrFA,yBAAG;IAAAA,YAAyB;IAAAA,iBAAI;IAEhCA,uEAGM;IAGNA,uEAYM;IACRA,iBAAK;;;;;IAtBQA,eAA2B;IAA3BA,8CAA2B;IAAUA,eAAiC;IAAjCA,8DAAiC;IAC9EA,eAAyB;IAAzBA,4CAAyB;IAEtBA,eAAmD;IAAnDA,qFAAmD;IAMnDA,eAA+D;IAA/DA,sFAA+D;;;ACH3E,OAAM,MAAOC,iBAAiB;EAG5BC,YAAoBC,KAAiB;IAAjB,UAAK,GAALA,KAAK;IAFzB,aAAQ,GAAc,EAAE;EAEiB;EAEzCC,QAAQ;IACNC,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC;IACxC,IAAI,CAACC,WAAW,EAAE;EACpB;EAEAA,WAAW;IACT,IAAI,CAACJ,KAAK,CAACK,GAAG,CAAY,cAAc,CAAC,CAACC,SAAS,CAACC,IAAI,IAAG;MACzDL,OAAO,CAACC,GAAG,CAAC,KAAK,EAAEK,IAAI,CAACC,SAAS,CAACF,IAAI,CAAC,CAAC;MACxC,IAAI,CAACG,QAAQ,GAAGH,IAAI;IACtB,CAAC,CAAC;EACJ;EAGA;EACAI,UAAU;IACR;EAAA;EAGF;EACAC,WAAW,CAACC,SAAiB;IAC3B;EAAA;EAGF;EACAC,aAAa,CAACD,SAAiB;IAC7B;EAAA;;AA9BSf,iBAAiB;mBAAjBA,iBAAiB;AAAA;AAAjBA,iBAAiB;QAAjBA,iBAAiB;EAAAiB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDV9BtB,6BAAoB;MAAAA,iCAAiB;MAAAA,iBAAK;MAExCA,6BAAO;MACLA,gEAuBK;MACPA,iBAAQ;;;MAxBkBA,eAAW;MAAXA,sCAAW","names":["i0","CommentsComponent","constructor","_http","ngOnInit","console","log","getComments","get","subscribe","data","JSON","stringify","comments","addComment","editComment","commentId","deleteComment","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Eier\\RiderProjects\\diskusjonsforum_v2\\diskusjonsforum_v2\\ClientApp\\src\\app\\comments\\comments.component.html","C:\\Users\\Eier\\RiderProjects\\diskusjonsforum_v2\\diskusjonsforum_v2\\ClientApp\\src\\app\\comments\\comments.component.ts"],"sourcesContent":["<h2 id=\"tabelLabel\">List of Comments)</h2>\r\n\r\n  <table>\r\n    <tr *ngFor=\"let comment of comments\" >\r\n      <p><strong>{{ comment.User.UserName }}</strong> on {{ comment.CommentCreatedAt }}</p>\r\n      <p>{{ comment.CommentBody }}</p>\r\n\r\n      <div *ngIf=\"UserId === comment.User.UserId || UserIsAdmin\">\r\n        <button (click)=\"editComment(comment.CommentId)\">Edit Comment</button>\r\n        <button (click)=\"deleteComment(comment.CommentId)\">Delete Comment</button>\r\n      </div>\r\n\r\n      <!-- Display child comments -->\r\n      <div *ngIf=\"comment.ChildComments && comment.ChildComments.length > 0\">\r\n        <div class=\"child-comments\">\r\n          <div *ngFor=\"let childComment of comment.ChildComments\" class=\"comment-item\">\r\n            <p><strong>{{ childComment.User.UserName }}</strong> on {{ childComment.CommentCreatedAt }}</p>\r\n            <p>{{ childComment.CommentBody }}</p>\r\n\r\n            <div *ngIf=\"UserId === childComment.UserId || UserIsAdmin\">\r\n              <button (click)=\"editComment(childComment.CommentId)\">Edit Comment</button>\r\n              <button (click)=\"deleteComment(childComment.CommentId)\">Delete Comment</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </tr>\r\n  </table>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Comment } from './comments';\r\n\r\n@Component({\r\n  selector: 'app-comment-component',\r\n  templateUrl: './comments.component.html',\r\n  //styleUrls: ['./comment.component.css']\r\n})\r\n\r\nexport class CommentsComponent implements OnInit {\r\n  comments: Comment[] = [];\r\n\r\n  constructor(private _http: HttpClient) { }\r\n\r\n  ngOnInit(): void {\r\n    console.log('CommentsComponent created')\r\n    this.getComments();\r\n  }\r\n\r\n  getComments(): void{\r\n    this._http.get<Comment[]>('api/comments').subscribe(data => {\r\n      console.log('All', JSON.stringify(data));\r\n      this.comments = data;\r\n    });\r\n  }\r\n\r\n\r\n  // Function to add a comment\r\n  addComment() {\r\n    // Logic to add a comment\r\n  }\r\n\r\n  // Function to edit a comment\r\n  editComment(commentId: number) {\r\n    // Logic to edit a comment\r\n  }\r\n\r\n  // Function to delete a comment\r\n  deleteComment(commentId: number) {\r\n    // Logic to delete a comment\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}