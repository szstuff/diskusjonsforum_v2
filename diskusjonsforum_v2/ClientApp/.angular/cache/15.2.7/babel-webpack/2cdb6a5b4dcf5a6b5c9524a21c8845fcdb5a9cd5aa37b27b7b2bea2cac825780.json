{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../threads/threads.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nfunction HomeComponent_div_6_span_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"(\\u2026)\");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/Thread/Thread\", a1];\n};\nfunction HomeComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"a\", 6)(2, \"div\", 7)(3, \"div\")(4, \"p\", 8)(5, \"b\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \" posted in \");\n    i0.ɵɵelementStart(8, \"b\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \" on \");\n    i0.ɵɵelementStart(11, \"b\");\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"date\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(14, \"hr\");\n    i0.ɵɵelementStart(15, \"div\")(16, \"p\", 9)(17, \"b\");\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(19, \"div\")(20, \"p\", 10);\n    i0.ɵɵtext(21);\n    i0.ɵɵpipe(22, \"slice\");\n    i0.ɵɵtemplate(23, HomeComponent_div_6_span_23_Template, 2, 0, \"span\", 11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(24, \"div\")(25, \"p\", 12);\n    i0.ɵɵtext(26);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelement(27, \"p\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const thread_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(15, _c0, thread_r1.ThreadId));\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(thread_r1.User.UserName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(thread_r1.Category.CategoryName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(13, 8, thread_r1.ThreadCreatedAt, \"yyyy-MM-dd HH:mm\"));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(thread_r1.ThreadTitle);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind3(22, 11, thread_r1.ThreadBody, 0, 75), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", thread_r1.ThreadBody.length > 75);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", thread_r1.ThreadComments == null ? null : thread_r1.ThreadComments.length, \" replies\");\n  }\n}\nexport class HomeComponent {\n  constructor(threadService) {\n    this.threadService = threadService;\n    this.threads = [];\n  }\n  ngOnInit() {\n    this.loadThreads();\n  }\n  loadThreads() {\n    this.threadService.getThreads().subscribe(threads => {\n      this.threads = threads;\n    }, error => {\n      console.error('Error fetching threads', error);\n    });\n  }\n  redirectToCreatePage() {\n    window.location.href = '/Thread/Create';\n  }\n}\nHomeComponent.ɵfac = function HomeComponent_Factory(t) {\n  return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.ThreadService));\n};\nHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HomeComponent,\n  selectors: [[\"app-home\"]],\n  decls: 8,\n  vars: 5,\n  consts: [[1, \"recent-posts-title\"], [1, \"container\"], [\"name\", \"PostText\", \"placeholder\", \"Create Post\", \"type\", \"text\", 1, \"form-control\", 3, \"click\"], [1, \"row\"], [\"class\", \"col-md-6\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-6\"], [3, \"routerLink\"], [1, \"post\"], [1, \"thread-information\"], [1, \"title-thread\"], [1, \"thread-text\"], [4, \"ngIf\"], [1, \"comment-count\"]],\n  template: function HomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h3\", 0);\n      i0.ɵɵtext(1, \"Recent posts\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 1)(3, \"input\", 2);\n      i0.ɵɵlistener(\"click\", function HomeComponent_Template_input_click_3_listener() {\n        return ctx.redirectToCreatePage();\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(4, \"div\", 1)(5, \"div\", 3);\n      i0.ɵɵtemplate(6, HomeComponent_div_6_Template, 28, 17, \"div\", 4);\n      i0.ɵɵpipe(7, \"slice\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind3(7, 1, ctx.threads, 0, 6));\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.RouterLink, i2.SlicePipe, i2.DatePipe],\n  encapsulation: 2\n});","map":{"version":3,"mappings":";;;;;;IAsBcA,4BAA4C;IAAAA,wBAAG;IAAAA,iBAAO;;;;;;;;IAfhEA,8BAAiE;IAKpDA,YAA0B;IAAAA,iBAAI;IAACA,2BAClC;IAAAA,yBAAG;IAAAA,YAAkC;IAAAA,iBAAI;IAACA,qBAC1C;IAAAA,0BAAG;IAAAA,aAAuD;;IAAAA,iBAAI;IAGlEA,sBAAM;IACNA,4BAAK;IAA2BA,aAAwB;IAAAA,iBAAI;IAC5DA,4BAAK;IAEDA,aACA;;IAAAA,yEAAsD;IACxDA,iBAAI;IAENA,4BAAK;IAAyBA,aAA2C;IAAAA,iBAAI;IAGjFA,qBAAO;IACTA,iBAAM;;;;IArBDA,eAAkD;IAAlDA,4EAAkD;IAI1CA,eAA0B;IAA1BA,6CAA0B;IAC1BA,eAAkC;IAAlCA,qDAAkC;IAClCA,eAAuD;IAAvDA,0FAAuD;IAI9BA,eAAwB;IAAxBA,2CAAwB;IAGpDA,eACA;IADAA,oFACA;IAAOA,eAAmC;IAAnCA,uDAAmC;IAGhBA,eAA2C;IAA3CA,gHAA2C;;;AChBnF,OAAM,MAAOC,aAAa;EAGxBC,YAAoBC,aAA4B;IAA5B,kBAAa,GAAbA,aAAa;IAFjC,YAAO,GAAU,EAAE;EAEgC;EAEnDC,QAAQ;IACN,IAAI,CAACC,WAAW,EAAE;EACpB;EAEAA,WAAW;IACT,IAAI,CAACF,aAAa,CAACG,UAAU,EAAE,CAACC,SAAS,CACtCC,OAAO,IAAI;MACV,IAAI,CAACA,OAAO,GAAGA,OAAO;IACxB,CAAC,EACAC,KAAK,IAAI;MACRC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAChD,CAAC,CACF;EACH;EACAE,oBAAoB;IAClBC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,gBAAgB;EACzC;;AArBWb,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;QAAbA,aAAa;EAAAc;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDT1BnB,6BAA+B;MAAAA,4BAAY;MAAAA,iBAAK;MAChDA,8BAAuB;MAC6DA;QAAA,OAASoB,0BAAsB;MAAA,EAAC;MAAlHpB,iBAAqH;MAGvHA,8BAAuB;MAEnBA,gEAsBM;;MACRA,iBAAM;;;MAvBoBA,eAAsB;MAAtBA,iEAAsB","names":["i0","HomeComponent","constructor","threadService","ngOnInit","loadThreads","getThreads","subscribe","threads","error","console","redirectToCreatePage","window","location","href","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Eier\\RiderProjects\\diskusjonsforum_v2\\diskusjonsforum_v2\\ClientApp\\src\\app\\home\\home.component.html","C:\\Users\\Eier\\RiderProjects\\diskusjonsforum_v2\\diskusjonsforum_v2\\ClientApp\\src\\app\\home\\home.component.ts"],"sourcesContent":["<h3 class=\"recent-posts-title\">Recent posts</h3>\r\n<div class=\"container\">\r\n  <input name=\"PostText\" class=\"form-control\" placeholder=\"Create Post\" type=\"text\" (click)=\"redirectToCreatePage()\" />\r\n</div>\r\n\r\n<div class=\"container\">\r\n  <div class=\"row\">\r\n    <div *ngFor=\"let thread of threads | slice:0:6\" class=\"col-md-6\">\r\n      <a [routerLink]=\"['/Thread/Thread', thread.ThreadId]\">\r\n        <div class=\"post\">\r\n          <div>\r\n            <p class=\"thread-information\">\r\n              <b>{{ thread.User.UserName }}</b> posted in\r\n              <b>{{ thread.Category.CategoryName }}</b> on\r\n              <b>{{ thread.ThreadCreatedAt | date: 'yyyy-MM-dd HH:mm' }}</b>\r\n            </p>\r\n          </div>\r\n          <hr />\r\n          <div><p class=\"title-thread\"><b>{{ thread.ThreadTitle }}</b></p></div>\r\n          <div>\r\n            <p class=\"thread-text\">\r\n              {{ thread.ThreadBody | slice: 0:75 }}\r\n              <span *ngIf=\"thread.ThreadBody.length > 75\">(…)</span>\r\n            </p>\r\n          </div>\r\n          <div><p class=\"comment-count\">{{ thread.ThreadComments?.length }} replies</p></div>\r\n        </div>\r\n      </a>\r\n      <p></p>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<script>\r\n  // Redirect the user to the \"create\" page when the input is clicked\r\n  function redirectToCreatePage() {\r\n    window.location.href = \"/Thread/Create\";\r\n  }\r\n</script>\r\n","// home.component.ts\r\n\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { ThreadService } from '../threads/threads.service';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n})\r\nexport class HomeComponent implements OnInit {\r\n  threads: any[] = [];\r\n\r\n  constructor(private threadService: ThreadService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.loadThreads();\r\n  }\r\n\r\n  loadThreads() {\r\n    this.threadService.getThreads().subscribe(\r\n      (threads) => {\r\n        this.threads = threads;\r\n      },\r\n      (error) => {\r\n        console.error('Error fetching threads', error);\r\n      }\r\n    );\r\n  }\r\n  redirectToCreatePage() {\r\n    window.location.href = '/Thread/Create';\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}